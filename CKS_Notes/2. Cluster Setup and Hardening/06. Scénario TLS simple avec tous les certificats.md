## üîê Sc√©nario TLS simple avec tous les certificats

### üé≠ Personnages :

* **Root CA** : l‚Äôautorit√© de confiance (le "parent") qui a sign√© les autres certificats.
* **Serveur B** : poss√®de un **certificat serveur** sign√© par Root CA.
* **Client A** : poss√®de un **certificat client** sign√© par Root CA.
* **TLS** est utilis√© pour s√©curiser la communication entre le client et le serveur.

---

## üß© √âtapes du sc√©nario

### ‚úÖ 1. L‚Äôautorit√© Root signe les certificats

* Root CA poss√®de une paire de cl√©s :

  * üîê **Root Private Key** ‚Üí utilis√©e pour **signer** d‚Äôautres certificats.
  * üîì **Root Public Key** ‚Üí utilis√©e pour **v√©rifier les signatures**.

* Le Root CA signe :

  * Le certificat du **serveur** (en liant son **Server Public Key** √† son identit√©).
  * Le certificat du **client** (en liant son **Client Public Key** √† son identit√©).

---

### üîÅ 2. Le client A veut se connecter au serveur B

#### ‚û§ **√âtablissement de la connexion TLS** :

#### a. Le serveur B envoie :

* Son **certificat serveur** (contenant sa **Server Public Key**, sign√© par Root CA)

#### b. Le client A :

* **V√©rifie que ce certificat est bien sign√©** par le Root CA (gr√¢ce √† la **Root Public Key** qu‚Äôil conna√Æt d√©j√†).
* Si c‚Äôest OK, il fait confiance au serveur.

#### c. (Optionnel mais courant dans certains syst√®mes) Le **serveur demande un certificat client** :

* Le client A envoie son **certificat client**.
* Le serveur B v√©rifie lui aussi que ce certificat est **sign√© par Root CA**.

---

### üîë 3. √âchange de la cl√© de session

Maintenant que chacun a prouv√© son identit√© :

* Le client A et le serveur B **n√©gocient une cl√© de session sym√©trique** (souvent via un m√©canisme comme Diffie-Hellman).
* Cette cl√© est utilis√©e pour **chiffrer toutes les donn√©es** √©chang√©es.

---

### üõ°Ô∏è R√©sum√© de la s√©curit√© :

| √âl√©ment                | Sert √† quoi ?                                                                         |
| ---------------------- | ------------------------------------------------------------------------------------- |
| **Root Private Key**   | Sert √† signer les certificats (pas utilis√©e pendant la connexion)                     |
| **Root Public Key**    | Utilis√©e par A et B pour **v√©rifier** que les certificats sont authentiques           |
| **Server Private Key** | Sert √† **prouver l‚Äôidentit√© du serveur** (d√©chiffrer ou signer des messages dans TLS) |
| **Client Private Key** | Sert √† **prouver l‚Äôidentit√© du client** (si authentification mutuelle requise)        |
| **Certificats**        | Permettent √† chacun de prouver qui ils sont, **de mani√®re v√©rifiable**                |

---

### üîê Mini r√©sum√© graphique :

```plaintext
ROOT CA
  ‚îî‚îÄ‚îÄ Signe --> Certificat Serveur (avec Server Public Key)
  ‚îî‚îÄ‚îÄ Signe --> Certificat Client (avec Client Public Key)

Client A <---> Serveur B
    ‚Üï              ‚Üï
V√©rifie        V√©rifie
certificat     certificat
avec Root      avec Root

‚û°Ô∏è √âchange de cl√© sym√©trique ‚û°Ô∏è Communication chiffr√©e
```

---

