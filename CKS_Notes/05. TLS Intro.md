Voyons un exemple simple entre **Personne A (le client)** et **Serveur B**, en utilisant les **clÃ©s publique/privÃ©e** pour comprendre le fonctionnement de **TLS**.

---

### ğŸ›¡ï¸ Situation : A veut parler en toute sÃ©curitÃ© avec B

---

### ğŸ¯ Objectif :

Que les messages soient :

1. **Confidentiels** (chiffrÃ©s)
2. **Authents** (B est bien le bon serveur)
3. **IntÃ¨gres** (non modifiÃ©s)

---

### ğŸ” Les clÃ©s :

* **Le serveur B possÃ¨de une paire de clÃ©s :**

  * ğŸ”“ **ClÃ© publique (publique Ã  tous)** â†’ peut chiffrer des messages.
  * ğŸ”’ **ClÃ© privÃ©e (secrÃ¨te)** â†’ peut dÃ©chiffrer les messages.

---

### ğŸ”„ Ã‰change simplifiÃ© avec TLS (sans entrer dans tous les dÃ©tails techniques de la version 1.3) :

#### 1. **A contacte B** :

Personne A envoie :

> "Bonjour B, je veux me connecter en sÃ©curitÃ© ! Envoie-moi ta clÃ© publique."

---

#### 2. **B rÃ©pond avec sa clÃ© publique + un certificat signÃ©** :

Serveur B envoie :

> ğŸ”“ "Voici ma **clÃ© publique**, et voici un **certificat** prouvant que câ€™est bien moi (signÃ© par une autoritÃ© de confiance comme Let's Encrypt, etc.)."

---

#### 3. **A vÃ©rifie l'identitÃ© de B** :

* A vÃ©rifie que le certificat est bien signÃ© par une autoritÃ© connue (le navigateur ou le systÃ¨me connaÃ®t dÃ©jÃ  ces autoritÃ©s).
* Si câ€™est bon, A **fait confiance au serveur B**.

---

#### 4. **A gÃ©nÃ¨re un secret (clÃ© de session)** :

* A crÃ©e une **clÃ© de session symÃ©trique** (par exemple, une suite de bits alÃ©atoires).
* Il chiffre cette clÃ© **avec la clÃ© publique de B**.
* Il envoie cette clÃ© chiffrÃ©e Ã  B.

---

#### 5. **B dÃ©chiffre avec sa clÃ© privÃ©e** :

* B utilise sa **clÃ© privÃ©e** pour dÃ©chiffrer la clÃ© de session.
* Maintenant, A et B **ont tous les deux la mÃªme clÃ© symÃ©trique**.

---

#### 6. **Communication sÃ©curisÃ©e** :

* Tous les messages suivants entre A et B sont **chiffrÃ©s avec cette clÃ© symÃ©trique** (plus rapide que RSA).
* Personne ne peut les lire, mÃªme s'ils interceptent le trafic.

---

### ğŸ” RÃ©sumÃ© visuel :

```plaintext
A: "Salut, je veux communiquer en sÃ©curitÃ©"
B: "Voici ma clÃ© publique et mon certificat"
A: "Je vÃ©rifie le certificat... OK !"
A â†’ B: [clÃ© de session] chiffrÃ©e avec la clÃ© publique de B
B: dÃ©chiffre la clÃ© avec sa clÃ© privÃ©e

=> A et B partagent une clÃ© symÃ©trique pour tout le reste de la session
```

---

### Probleme : 

le **problÃ¨me que TLS est conÃ§u pour Ã©viter** : empÃªcher un **hacker (ou attaquant)** de s'interposer entre A et B. Câ€™est ce quâ€™on appelle une attaque de type **"Man-in-the-Middle" (MITM)**.

Voyons ce qui se passe **avec TLS** **et un hacker au milieu** :

---

### ğŸ§‘â€ğŸ’» Situation :

Un hacker H intercepte les messages entre A (le client) et B (le serveur).

---

#### **SANS TLS** (http classique) :

* Le hacker peut **lire tout ce que A envoie Ã  B** : identifiants, mots de passe, messages.
* Il peut mÃªme **modifier** les messages.

ğŸ›‘ **Pas sÃ©curisÃ© du tout**.

---

#### **AVEC TLS** :

1. **H peut intercepter la clÃ© publique de B... mais ne peut pas dÃ©chiffrer la clÃ© de session !**

   * A chiffre la clÃ© de session **avec la clÃ© publique de B**.
   * Seul B **peut la dÃ©chiffrer** car lui seul a la **clÃ© privÃ©e**.
   * Le hacker **voit passer le message chiffrÃ©**, mais il ne peut **rien faire** sans la clÃ© privÃ©e de B.

2. **Et si H essaie de se faire passer pour B ?**

   * H devrait alors envoyer **sa propre clÃ© publique** Ã  A.
   * Mais A va vÃ©rifier le **certificat** fourni.
   * Et lÃ , problÃ¨me : le certificat de H **nâ€™est pas signÃ© par une autoritÃ© de confiance**.
   * Le navigateur dira : âŒ "**Connexion non sÃ©curisÃ©e**".

Donc :

* âœ… Le hacker **ne peut pas lire** les messages.
* âœ… Il **ne peut pas se faire passer** pour le vrai serveur B (Ã  cause des certificats TLS).
* âœ… Il **ne peut pas modifier** les messages sans que ce soit dÃ©tectÃ©.

---

### ğŸ” Exemple dâ€™attaque bloquÃ©e :

```plaintext
A --> H --> B

1. A demande la clÃ© publique
2. H intercepte
3. H essaie dâ€™envoyer sa propre clÃ© Ã  A
4. A dit : "Non, ton certificat nâ€™est pas valide !"
=> A arrÃªte la connexion
```

---

### ğŸ§  Conclusion :

**TLS protÃ¨ge contre les hackers intermÃ©diaires** :

* GrÃ¢ce au **chiffrement** (personne ne peut lire).
* GrÃ¢ce Ã  **lâ€™authentification du serveur** (certificat signÃ©).
* GrÃ¢ce Ã  **lâ€™intÃ©gritÃ©** (le contenu ne peut pas Ãªtre altÃ©rÃ© sans Ãªtre dÃ©tectÃ©).



---
### ClÃ© publique Vs ClÃ© privÃ©e  

TrÃ¨s simple ! Voici la diffÃ©rence entre **clÃ© publique** et **clÃ© privÃ©e**, expliquÃ©e comme un cadenas ğŸ”’ :

---

#### ğŸ”“ ClÃ© publique (Public Key) :

* Câ€™est comme **un cadenas** que tu donnes Ã  tout le monde.
* Tout le monde peut lâ€™utiliser pour **fermer** (chiffrer) un message pour toi.
* Mais **personne ne peut lâ€™ouvrir**.

ğŸ‘‰ **Tout le monde peut lâ€™avoir**, mais il sert juste Ã  chiffrer.

---

#### ğŸ” ClÃ© privÃ©e (Private Key) :

* Câ€™est **la seule clÃ©** qui peut **ouvrir ton cadenas**.
* Elle te permet de **dÃ©chiffrer** les messages quâ€™on tâ€™a envoyÃ©s.
* **Tu dois la garder secrÃ¨te**. Si quelquâ€™un la vole, il peut lire tous tes messages.

ğŸ‘‰ **Une seule personne lâ€™a** (toi ou le serveur), et elle sert Ã  dÃ©chiffrer.

---

### ğŸ” En rÃ©sumÃ© :

| ClÃ© publique ğŸ”“                 | ClÃ© privÃ©e ğŸ”                                          |
| ------------------------------- | ------------------------------------------------------ |
| Tout le monde lâ€™a               | GardÃ©e secrÃ¨te                                         |
| Sert Ã  **chiffrer**             | Sert Ã  **dÃ©chiffrer**                                  |
| Ne peut pas ouvrir les messages | Peut ouvrir les messages chiffrÃ©s avec la clÃ© publique |


